(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(91),s=a.n(r),o=(a(97),a(24)),l=a(4),c=a(5),h=a(7),d=a(6),u=a(2),g=a(8),p=(a(98),a(36)),m=(a(263),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleClose=a.handleClose.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.state={displayColorPicker:!1},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.setState({displayColorPicker:!this.state.displayColorPicker})}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(e){this.props.handleChange(e,this.props.index)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"swatch",onClick:this.handleClick},i.a.createElement("div",{className:"swatch-color",style:{background:this.props.color}})),this.state.displayColorPicker?i.a.createElement("div",{className:"swatch-popover"},i.a.createElement("div",{className:"swatch-cover",onClick:this.handleClose}),i.a.createElement(p.SketchPicker,{color:this.props.color,onChange:this.handleChange})):null)}}]),t}(i.a.Component)),b=function(e){var t=e.colors,a=e.handleChange,n=-1;return i.a.createElement("div",{className:"color-panel-js"},t.map(function(e){return n++,i.a.createElement(m,{color:e,index:n,key:n,handleChange:a})}))},C=(a(264),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleHeightChange=a.handleHeightChange.bind(Object(u.a)(a)),a.handleWidthChange=a.handleWidthChange.bind(Object(u.a)(a)),a.handleEdgeChange=a.handleEdgeChange.bind(Object(u.a)(a)),a.handleColorChange=a.handleColorChange.bind(Object(u.a)(a)),a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"handleWidthChange",value:function(e){this.props.handleWidht(e.target.value)}},{key:"handleHeightChange",value:function(e){this.props.handleHeight(e.target.value)}},{key:"handleEdgeChange",value:function(e){this.props.handleEdge(e.target.value)}},{key:"handleColorChange",value:function(e,t){this.props.handleColor(e,t)}},{key:"render",value:function(){return i.a.createElement("div",{className:"grid-item-settings"},i.a.createElement("div",{className:"settings-width"},i.a.createElement("label",null,"Mallikerran leveys:",i.a.createElement("input",{value:this.props.width,onChange:this.handleWidthChange}))),i.a.createElement("div",{className:"settings-height"},i.a.createElement("label",null,"Mallikerran korkeus:",i.a.createElement("input",{value:this.props.height,onChange:this.handleHeightChange}))),i.a.createElement("div",{className:"settings-edges"},i.a.createElement("label",null,"Reunasilmukoiden m\xe4\xe4r\xe4:",i.a.createElement("input",{value:this.props.nmbOfEdgeSts,onChange:this.handleEdgeChange}))),i.a.createElement("div",{className:"settings-colors"},i.a.createElement("label",null,"V\xe4ripaletti:"),i.a.createElement(b,{colors:this.props.colorPalette,handleChange:this.handleColorChange})))}}]),t}(i.a.Component)),v=function(e){var t=e.letter,a=e.c,n=e.r;return i.a.createElement("div",{className:"grid-item-".concat(a,"-").concat(n," grid-item__centered letter-indicator-js")},t)},f=function(e){var t=e.c,a=e.r,n=e.direction,r=e.directionChange;return i.a.createElement("div",{className:"grid-item__centered grid-item-".concat(t,"-").concat(a," direction-indicator-js"),onClick:r},i.a.createElement("div",{className:"direction-js"},"forward"===n?"/":"\\"))},S=(a(265),function(e){var t=e.color,a=e.status,n=e.againstMasterDir,r=e.isDouble;e.number;return i.a.createElement("div",{className:"stitch stitch__".concat(n?"against":"along")},r&&i.a.createElement("div",{className:"oval oval__".concat(a)},i.a.createElement("div",{className:"double-oval double-oval__".concat(a),style:{backgroundColor:t}})),!r&&i.a.createElement("div",{className:"oval oval__".concat(a),style:{backgroundColor:t}}))}),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.state={displayColorPicker:!1},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.props.handleColorChange(this.props.index,e.hex)}},{key:"handleClick",value:function(){this.setState({displayColorPicker:!this.state.displayColorPicker})}},{key:"render",value:function(){return i.a.createElement("div",{className:"grid-item grid-item-".concat(this.props.c,"-").concat(this.props.r),onClick:this.handleClick},i.a.createElement(S,{color:this.props.color,status:this.props.status,againstMasterDir:!1}),this.state.displayColorPicker?i.a.createElement("div",{className:"swatch-popover"},i.a.createElement("div",{className:"swatch-cover",onClick:this.handleClose}),i.a.createElement(p.GithubPicker,{colors:this.props.colorPalette,onChange:this.handleChange})):null)}}]),t}(i.a.Component),O=(a(266),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleDoubleClick=a.handleDoubleClick.bind(Object(u.a)(a)),a.state={prevent:!1,timer:0},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){var e=this;this.setState({timer:setTimeout(function(){e.state.prevent||e.doClickAction(),e.setState({prevent:!1})},200)})}},{key:"handleDoubleClick",value:function(){clearTimeout(this.state.timer),this.setState({prevent:!0}),this.doDoubleClickAction()}},{key:"doClickAction",value:function(){this.props.handleClick(this.props.r)}},{key:"doDoubleClickAction",value:function(){this.props.handleDoubleClick(this.props.r)}},{key:"render",value:function(){return i.a.createElement("div",{className:"grid-item grid-item-".concat(this.props.c,"-").concat(this.props.r),onClick:this.handleClick,onDoubleClick:this.handleDoubleClick},i.a.createElement(S,{color:this.props.color,status:this.props.direction,againstMasterDir:this.props.againstMasterDir,isDouble:this.props.isDouble,number:this.props.number}))}}]),t}(i.a.Component)),E=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleMasterStsDirectionChange=a.handleMasterStsDirectionChange.bind(Object(u.a)(a)),a.handleMasterStsColorChange=a.handleMasterStsColorChange.bind(Object(u.a)(a)),a.createDirectionIndicator=a.createDirectionIndicator.bind(Object(u.a)(a)),a.createMasterStitches=a.createMasterStitches.bind(Object(u.a)(a)),a.createNormalStitches=a.createNormalStitches.bind(Object(u.a)(a)),a.initiateNormalStsState=a.initiateNormalStsState.bind(Object(u.a)(a)),a.changeNormalStsState=a.changeNormalStsState.bind(Object(u.a)(a)),a.changeOneStitchAfterOneClick=a.changeOneStitchAfterOneClick.bind(Object(u.a)(a)),a.changeOneStitchAfterDoubleClick=a.changeOneStitchAfterDoubleClick.bind(Object(u.a)(a)),a.getNextIndexAlongMastDir=a.getNextIndexAlongMastDir.bind(Object(u.a)(a)),a.getNextIndexAgainstMastDir=a.getNextIndexAgainstMastDir.bind(Object(u.a)(a)),a.getStitchBelow=a.getStitchBelow.bind(Object(u.a)(a));var n=a.initiateNormalStsState("forward");return a.state={masterStsIndeces:[0,1,2,3],direction:"forward",stitchColors:["#FFFFFF","#8A2BE2","#8A2BE2","#FFFFFF"],normalSts:n},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"initiateNormalStsState",value:function(e){for(var t=this.props.rowShift,a=parseInt(this.props.r)-this.props.nmbMasterSts,n=this.props.nmbMasterSts,i=[],r=a;r>t;r--){var s=(a-r)%n;i[r]={warpIndex:s,direction:e,againstMasterDir:!1,isDouble:!1}}return i}},{key:"changeWarpIndexToDouble",value:function(e){return e<this.props.nmbMasterSts/2?e+2:e-2}},{key:"getNextIndexAlongMastDir",value:function(e,t){var a=e===this.props.nmbMasterSts-1?0:e+1;return t?a:this.getNextIndexAgainstMastDir(a,!0)}},{key:"getNextIndexAgainstMastDir",value:function(e,t){var a=0===e?this.props.nmbMasterSts-1:e-1;return t?a:this.getNextIndexAlongMastDir(a,!0)}},{key:"getStitchBelow",value:function(e){return e===this.props.r-this.props.nmbMasterSts?{againstMasterDir:!1,direction:this.state.direction,warpIndex:this.state.masterStsIndeces[3]}:this.state.normalSts[e+1]}},{key:"changeNormalStitchDirection",value:function(e,t){var a=this.state.normalSts[e],n=this.getStitchBelow(e);a.direction="forward"===a.direction?"backward":"forward",t&&(a.againstMasterDir=!a.againstMasterDir);var i=a.againstMasterDir===n.againstMasterDir,r=a.againstMasterDir?this.getNextIndexAgainstMastDir(n.warpIndex,i):this.getNextIndexAlongMastDir(n.warpIndex,i);if(a.warpIndex=r,a.isDouble){var s=a.againstMasterDir===n.againstMasterDir,o=a.againstMasterDir?this.getNextIndexAgainstMastDir(n.warpIndex,!s):this.getNextIndexAlongMastDir(n.warpIndex,!s);a.warpIndex=o}return a}},{key:"changeNormalStitchIndex",value:function(e,t){var a,n=this.state.normalSts[e],i=n.againstMasterDir;return a=t&&i||!t&&!i?this.getNextIndexAgainstMastDir(n.warpIndex,!0):this.getNextIndexAlongMastDir(n.warpIndex,!0),n.warpIndex=a,n}},{key:"changeNormalStsState",value:function(e,t,a){var n=this.props.rowShift,i=Object(o.a)(this.state.normalSts);if(2===e){var r,s=i[t];s.isDouble=!s.isDouble,s=this.changeNormalStitchIndex(t,s.isDouble);for(var l=t-1;l>n;l--)r=this.changeNormalStitchIndex(l,s.isDouble),i[l]=r}if(1===e)for(var c,h=t;h>n;h--)c=this.changeNormalStitchDirection(h,a),i[h]=c;this.setState({normalSts:i})}},{key:"changeAllStsStateAfterMasterDirChange",value:function(){var e=parseInt(this.props.r)-this.props.nmbMasterSts;this.changeNormalStsState(1,e,!1)}},{key:"changeOneStitchAfterOneClick",value:function(e){this.changeNormalStsState(1,e,!0)}},{key:"changeOneStitchAfterDoubleClick",value:function(e){this.changeNormalStsState(2,e,!1)}},{key:"handleMasterStsDirectionChange",value:function(){this.setState({direction:"forward"===this.state.direction?"backward":"forward"},this.changeAllStsStateAfterMasterDirChange)}},{key:"handleMasterStsColorChange",value:function(e,t){var a=Object(o.a)(this.state.stitchColors);a[e]=t,this.setState({stitchColors:a})}},{key:"createDirectionIndicator",value:function(){return i.a.createElement(f,{c:this.props.c,r:this.props.r+1,direction:this.state.direction,directionChange:this.handleMasterStsDirectionChange})}},{key:"createMasterStitches",value:function(){for(var e=this.props.r,t=this.props.c,a=this.props.nmbMasterSts,n=[],r=e;r>e-a;r--){var s=e-r;n.push(i.a.createElement(k,{index:s,color:this.state.stitchColors[s],handleColorChange:this.handleMasterStsColorChange,key:t+"0"+r,status:this.state.direction,c:t,r:r,colorPalette:this.props.colorPalette}))}return n}},{key:"createNormalStitches",value:function(){for(var e=this.props.rowShift,t=parseInt(this.props.r)-this.props.nmbMasterSts,a=parseInt(this.props.c),n=this.props.showNormalSts,r=[],s=t;s>e;s--){var o=this.state.normalSts[s],l=this.state.stitchColors[o.warpIndex];n&&r.push(i.a.createElement(O,{color:l,key:a+"0"+s,c:a,r:s,direction:o.direction,againstMasterDir:o.againstMasterDir,handleClick:this.changeOneStitchAfterOneClick,handleDoubleClick:this.changeOneStitchAfterDoubleClick,isDouble:o.isDouble,number:o.warpIndex}))}return r}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.createDirectionIndicator(),this.createMasterStitches(),this.createNormalStitches())}}]),t}(i.a.Component),w=function(e,t,a,n,i){return!(t<n+a||t>e-n+a-1)||!!i},D=function(e){var t=e.c,a=e.r,n=e.columnShift,r=e.rowShift,s=e.numberOfMasterRows,o=e.nmbOfEdgeSts,l=e.showEdgeSts,c=e.colorPalette;return i.a.createElement(i.a.Fragment,null,function(e,t,a,n){for(var r=parseInt(e)+n,s=a-1,o=["A","B","C","D"],l=[],c=r+t;c>r;c--){var h=r+t-c;l.push(i.a.createElement(v,{key:c,letter:o[h],c:s,r:c}))}return l}(a,s,n,r),function(e,t,a,n,r,s,o,l){for(var c=parseInt(t)+n+r,h=[],d=a;d<e+a;d++){var u=w(e,d,a,s,o);h.push(i.a.createElement(E,{key:d+"0"+c,c:d,r:c,nmbMasterSts:r,rowShift:n,nmbOfEdgeSts:s,showNormalSts:u,colorPalette:l}))}return h}(t,a,n,r,s,o,l,c))},j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={columnShift:3,rowShift:4,numberOfMasterRows:4},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(D,{c:this.props.c,r:this.props.r,columnShift:this.state.columnShift,rowShift:this.state.rowShift,numberOfMasterRows:this.state.numberOfMasterRows,nmbOfEdgeSts:this.props.nmbOfEdgeSts,showEdgeSts:this.props.showEdgeSts,colorPalette:this.props.colorPalette})}}]),t}(i.a.Component),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleHeight=a.handleHeight.bind(Object(u.a)(a)),a.handleWidht=a.handleWidht.bind(Object(u.a)(a)),a.handleEdgeColumnChange=a.handleEdgeColumnChange.bind(Object(u.a)(a)),a.handleColorChange=a.handleColorChange.bind(Object(u.a)(a)),a.state={width:12,height:10,showEdgeColumns:!1,numberOfEdgeColumns:3,colorPalette:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"handleHeight",value:function(e){this.setState({height:parseInt(e)})}},{key:"handleWidht",value:function(e){this.setState({width:parseInt(e)})}},{key:"handleShowEdgeChange",value:function(){this.setState({showEdgeColumns:!this.state.showEdgeColumns})}},{key:"handleEdgeColumnChange",value:function(e){this.setState({numberOfEdgeColumns:parseInt(e)})}},{key:"handleColorChange",value:function(e,t){var a=Object(o.a)(this.state.colorPalette);a[t]=e.hex,this.setState({colorPalette:a})}},{key:"render",value:function(){var e=this.state.width,t=this.state.height,a=this.state.numberOfEdgeColumns;return i.a.createElement("div",{className:"grid-wrapper grid-wrapper__border"},i.a.createElement("div",{className:"grid-item-debug"}),i.a.createElement(C,{height:t,width:e,nmbOfEdgeSts:a,handleWidht:this.handleWidht,handleHeight:this.handleHeight,handleEdge:this.handleEdgeColumnChange,handleColor:this.handleColorChange,colorPalette:this.state.colorPalette}),i.a.createElement(j,{c:e,r:t,showEdgeSts:this.state.showEdgeColumns,nmbOfEdgeSts:a,colorPalette:this.state.colorPalette}))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){e.exports=a(267)},97:function(e,t,a){},98:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.75c7ddfa.chunk.js.map